Ja â€“ es gibt einige MÃ¶glichkeiten, Shellbefehle in der aktuellen Befehlszeile zu manipulieren oder zu erweitern, je nach Shell (z.â€¯B. bash, zsh). Ich erklÃ¤re die gÃ¤ngigsten Methoden:
1ï¸âƒ£ Mit readline-Funktionen (in Bash/Zsh)
Bash verwendet die GNU Readline-Bibliothek fÃ¼r die Kommandozeile. Dadurch kannst du bestimmte Tastenkombinationen nutzen:
Tastenkombi
Wirkung
Ctrl-A
Geht an den Anfang der Zeile
Ctrl-E
Geht ans Ende der Zeile
Alt-B / Alt-F
Wortweise zurÃ¼ck/vor
Ctrl-K
LÃ¶scht alles rechts vom Cursor
Ctrl-U
LÃ¶scht alles links vom Cursor
Ctrl-Y
FÃ¼gt zuletzt GelÃ¶schtes wieder ein
Alt-.
FÃ¼gt zuletzt verwendetes Argument eines Befehls ein
Ctrl-R
RÃ¼ckwÃ¤rtssuche durch Befehlsverlauf
Damit kannst du Befehle â€einfÃ¼genâ€œ oder Ã¤ndern, ohne die Zeile neu zu tippen.
2ï¸âƒ£ Mit fc â€“ Befehlszeile aus dem Verlauf bearbeiten
fc (â€fix commandâ€œ) Ã¶ffnet den letzten Befehl (oder einen bestimmten) im Editor:
Code kopieren
Bash
fc   # Ã¶ffnet letzten Befehl im Editor (z.B. vi)
fc -s old=new   # ersetzt "old" durch "new" im letzten Befehl und fÃ¼hrt ihn aus
Beispiele:
Code kopieren
Bash
$ echo Hallo
Hallo
$ fc -s Hallo=Welt
Welt
So kannst du Befehle Ã¤ndern und direkt ausfÃ¼hren, ohne sie neu zu schreiben.
3ï¸âƒ£ Mit !! und !$ â€“ History-Ersetzungen
!! â†’ letzter Befehl
!$ â†’ letztes Argument des letzten Befehls
^alt^neu â†’ ersetzt das erste Vorkommen von â€altâ€œ durch â€neuâ€œ im letzten Befehl
Beispiele:
Code kopieren
Bash
$ ls /wrong/path
ls: cannot access '/wrong/path': No such file or directory
$ !!:s/wrong/right/
ls /right/path
4ï¸âƒ£ Mit read innerhalb eines Skripts
Du kannst einen Shellbefehl in eine Variable einlesen und manipulieren:
Code kopieren
Bash
read -p "Befehl eingeben: " cmd
eval "$cmd"  # fÃ¼hrt den eingegebenen Befehl aus
ğŸ”¹ Zusammenfassung
FÃ¼r interaktive Ã„nderungen: Readline-Kurzbefehle + !!, !$
FÃ¼r grÃ¶ÃŸere Anpassungen: fc
FÃ¼r programmatische Ã„nderungen: read + eval
Wenn du willst, kann ich dir noch einen â€einzigen Shellbefehlâ€œ zeigen, mit dem du beliebigen Text in die aktuelle Eingabezeile einfÃ¼gst, ohne den Editor zu Ã¶ffnen.
Willst du, dass ich das zeige?
